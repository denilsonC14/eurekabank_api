# ๐๏ธ DIAGRAMA DE ARQUITECTURA - Cliente Consola Eurekabank

## Arquitectura General del Sistema

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         USUARIO FINAL                                โ
โ                      (Interfaz de Consola)                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        PROGRAM.CS                                    โ
โ                   (Capa de Presentaciรณn)                            โ
โ                                                                      โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ             โ
โ  โ MostrarMenu  โ  โ Validaciones โ  โ  UI Manager  โ             โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   IEUREKABANK SERVICE                                โ
โ                  (Capa de Abstracciรณn)                              โ
โ                                                                      โ
โ    Health() | Login() | ObtenerMovimientos() | RegistrarDeposito()  โ
โ    RegistrarRetiro() | RegistrarTransferencia()                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
                 โโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโ
                 โ                               โ
                 โ                               โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ   REST SERVICES        โ      โ   SOAP SERVICES        โ
    โ                        โ      โ                        โ
    โ  โโโโโโโโโโโโโโโโโโโโ  โ      โ  โโโโโโโโโโโโโโโโโโโโ  โ
    โ  โRestDotNetService โ  โ      โ  โSoapDotNetService โ  โ
    โ  โ                  โ  โ      โ  โ                  โ  โ
    โ  โ - HttpClient     โ  โ      โ  โ - HttpClient     โ  โ
    โ  โ - JSON           โ  โ      โ  โ - XML/SOAP       โ  โ
    โ  โ - Newtonsoft     โ  โ      โ  โ - XDocument      โ  โ
    โ  โโโโโโโโโโโโโโโโโโโโ  โ      โ  โโโโโโโโโโโโโโโโโโโโ  โ
    โ                        โ      โ                        โ
    โ  โโโโโโโโโโโโโโโโโโโโ  โ      โ  โโโโโโโโโโโโโโโโโโโโ  โ
    โ  โRestJavaService   โ  โ      โ  โSoapJavaService   โ  โ
    โ  โ                  โ  โ      โ  โ                  โ  โ
    โ  โ - HttpClient     โ  โ      โ  โ - HttpClient     โ  โ
    โ  โ - JSON           โ  โ      โ  โ - XML/SOAP       โ  โ
    โ  โ - Newtonsoft     โ  โ      โ  โ - XDocument      โ  โ
    โ  โโโโโโโโโโโโโโโโโโโโ  โ      โ  โโโโโโโโโโโโโโโโโโโโ  โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ                               โ
                 โ                               โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ     HTTP/HTTPS         โ      โ     HTTP/HTTPS         โ
    โ      (Protocolo)       โ      โ      (Protocolo)       โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ                               โ
                 โ                               โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ     JSON Format        โ      โ     XML/SOAP Format    โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ                               โ
                 โโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโ
                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        SERVIDORES BACKEND                            โ
โ                                                                      โ
โ  โโโโโโโโโโโโโ  โโโโโโโโโโโโโ  โโโโโโโโโโโโโ  โโโโโโโโโโโโโ       โ
โ  โ REST .NET โ  โ REST Java โ  โ SOAP .NET โ  โ SOAP Java โ       โ
โ  โ (5111)    โ  โ (8080)    โ  โ (57199)   โ  โ (8080)    โ       โ
โ  โโโโโโโฌโโโโโโ  โโโโโโโฌโโโโโโ  โโโโโโโฌโโโโโโ  โโโโโโโฌโโโโโโ       โ
โ        โ              โ              โ              โ               โ
โ        โโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโ               โ
โ                              โ                                       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ                   BASES DE DATOS                             โ  โ
โ  โ                                                              โ  โ
โ  โ  โโโโโโโโโโโโโโโ              โโโโโโโโโโโโโโโ              โ  โ
โ  โ  โ SQL Server  โ              โ   MySQL     โ              โ  โ
โ  โ  โ             โ              โ             โ              โ  โ
โ  โ  โ - .NET SOAP โ              โ - Java SOAP โ              โ  โ
โ  โ  โ - .NET REST โ              โ - Java REST โ              โ  โ
โ  โ  โโโโโโโโโโโโโโโ              โโโโโโโโโโโโโโโ              โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Flujo de Datos - Ejemplo: Consultar Movimientos

```
1. USUARIO
   โ
   Ingresa cuenta: "00100001"
   
2. PROGRAM.CS
   โ
   ConsultarMovimientos("00100001")
   
3. INTERFAZ (IEurekabankService)
   โ
   servicioActual.ObtenerMovimientos("00100001")
   
4. IMPLEMENTACIรN CONCRETA
   โ
   โโ Si REST .NET:
   โ  โ
   โ  RestDotNetService.ObtenerMovimientos()
   โ  โ
   โ  HTTP GET โ http://localhost:5111/api/eureka/movimientos/00100001
   โ  โ
   โ  Respuesta JSON โ ApiResponse<List<Movimiento>>
   โ
   โโ Si SOAP .NET:
      โ
      SoapDotNetService.ObtenerMovimientos()
      โ
      HTTP POST โ http://localhost:57199/.../EurekabankWS.svc
      โ
      SOAP Envelope XML con operaciรณn ObtenerPorCuenta
      โ
      Respuesta XML SOAP โ ParsearMovimientos()
   
5. SERVIDOR BACKEND
   โ
   - Valida autenticaciรณn
   - Consulta base de datos
   - Retorna lista de movimientos
   
6. CLIENTE PROCESA
   โ
   - Parsea respuesta (JSON o XML)
   - Convierte a List<Movimiento>
   - Retorna OperacionResult
   
7. PROGRAM.CS
   โ
   - Renderiza tabla en consola
   - Muestra movimientos al usuario
   
8. USUARIO
   โ
   Ve tabla formateada con sus movimientos
```

## Diagrama de Clases Simplificado

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   <<interface>>                 โ
โ   IEurekabankService            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ + Health()                      โ
โ + Login(user, pass)             โ
โ + ObtenerMovimientos(cuenta)    โ
โ + RegistrarDeposito(...)        โ
โ + RegistrarRetiro(...)          โ
โ + RegistrarTransferencia(...)   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
           โณ
           โ implements
           โ
     โโโโโโโดโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโ
     โ           โ          โ          โ
     โ           โ          โ          โ
โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ
โ RestDot โ โ RestJavaโ โ SoapDot โ โ SoapJavaโ
โ Net     โ โ Service โ โ Net     โ โ Service โ
โ Service โ โ         โ โ Service โ โ         โ
โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ
```

## Diagrama de Secuencia - Login

```
Usuario    Program.cs    IService    RestService    Servidor
  โ            โ             โ            โ             โ
  โ Ingresa    โ             โ            โ             โ
  โ credencialesโ            โ            โ             โ
  โโโโโโโโโโโโโ>โ            โ            โ             โ
  โ            โ             โ            โ             โ
  โ            โ Login(...)  โ            โ             โ
  โ            โโโโโโโโโโโโโ>โ            โ             โ
  โ            โ             โ            โ             โ
  โ            โ             โ Login(...) โ             โ
  โ            โ             โโโโโโโโโโโโ>โ             โ
  โ            โ             โ            โ             โ
  โ            โ             โ            โ POST /login โ
  โ            โ             โ            โโโโโโโโโโโโโ>โ
  โ            โ             โ            โ             โ
  โ            โ             โ            โ  Valida BD  โ
  โ            โ             โ            โ<โโโโโโโโโโโโโค
  โ            โ             โ            โ             โ
  โ            โ             โ            โ JSON {true} โ
  โ            โ             โ            โ<โโโโโโโโโโโโโค
  โ            โ             โ            โ             โ
  โ            โ             โ Operacion  โ             โ
  โ            โ             โ<โโโResultโโโค             โ
  โ            โ             โ            โ             โ
  โ            โ Operacion   โ            โ             โ
  โ            โ<โโโResultโโโโค            โ             โ
  โ            โ             โ            โ             โ
  โ "Login     โ             โ            โ             โ
  โ<โexitoso"โโโค             โ            โ             โ
  โ            โ             โ            โ             โ
```

## Componentes y Responsabilidades

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ PROGRAM.CS                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Responsabilidades:                                         โ
โ โข Manejo de la interfaz de usuario (UI)                   โ
โ โข Captura y validaciรณn de entrada                         โ
โ โข Navegaciรณn entre menรบs                                   โ
โ โข Formateo de salida (tablas, colores)                    โ
โ โข Gestiรณn de sesiรณn de usuario                            โ
โ โข Orquestaciรณn de llamadas a servicios                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ IEUREKABANK SERVICE (Interfaz)                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Responsabilidades:                                         โ
โ โข Definir contrato comรบn para todos los servicios         โ
โ โข Establecer signatures de mรฉtodos                         โ
โ โข Garantizar intercambiabilidad de implementaciones       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ REST SERVICES (Implementaciรณn REST)                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Responsabilidades:                                         โ
โ โข Construir peticiones HTTP                                โ
โ โข Serializar objetos a JSON                                โ
โ โข Deserializar respuestas JSON                             โ
โ โข Manejo de errores de red                                 โ
โ โข Conversiรณn a modelos internos                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ SOAP SERVICES (Implementaciรณn SOAP)                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Responsabilidades:                                         โ
โ โข Construir mensajes SOAP (XML)                            โ
โ โข Agregar namespaces y headers SOAP                        โ
โ โข Parsear respuestas XML                                   โ
โ โข Extraer datos de SOAP Body                               โ
โ โข Conversiรณn a modelos internos                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ MODELS.CS                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Responsabilidades:                                         โ
โ โข Definir estructuras de datos (DTOs)                     โ
โ โข Modelos de dominio (Movimiento)                         โ
โ โข Objetos de respuesta (OperacionResult)                  โ
โ โข Enumeraciones (TipoServidor)                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Patrones de Diseรฑo Aplicados

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ STRATEGY PATTERN                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                          โ
โ  Context: Program.cs (servicioActual)                   โ
โ     โ                                                    โ
โ     โโโ Strategy: IEurekabankService                    โ
โ            โ                                             โ
โ            โโโ ConcreteStrategy1: RestDotNetService     โ
โ            โโโ ConcreteStrategy2: RestJavaService       โ
โ            โโโ ConcreteStrategy3: SoapDotNetService     โ
โ            โโโ ConcreteStrategy4: SoapJavaService       โ
โ                                                          โ
โ  Beneficio: Cambio dinรกmico de implementaciรณn           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ADAPTER PATTERN                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                          โ
โ  Target: IEurekabankService                             โ
โ     โ                                                    โ
โ     โโโ Adapter1: RestDotNetService                     โ
โ     โ      โโโ Adaptee: REST API .NET                   โ
โ     โ                                                    โ
โ     โโโ Adapter2: RestJavaService                       โ
โ     โ      โโโ Adaptee: REST API Java                   โ
โ     โ                                                    โ
โ     โโโ Adapter3: SoapDotNetService                     โ
โ     โ      โโโ Adaptee: SOAP Web Service .NET           โ
โ     โ                                                    โ
โ     โโโ Adapter4: SoapJavaService                       โ
โ            โโโ Adaptee: SOAP Web Service Java           โ
โ                                                          โ
โ  Beneficio: Unifica diferentes protocolos               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ DTO PATTERN (Data Transfer Objects)                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                          โ
โ  โข Movimiento          โ Datos de transacciรณn           โ
โ  โข OperacionResult     โ Respuesta de operaciรณn         โ
โ  โข LoginRequest        โ Peticiรณn de login              โ
โ  โข DepositoRequest     โ Peticiรณn de depรณsito           โ
โ  โข RetiroRequest       โ Peticiรณn de retiro             โ
โ  โข TransferenciaRequest โ Peticiรณn de transferencia     โ
โ                                                          โ
โ  Beneficio: Separaciรณn clara de capas                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Stack Tecnolรณgico

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   CAPA DE PRESENTACIรN                 โ
โ                                                        โ
โ  โข C# 10 (Lenguaje)                                   โ
โ  โข .NET 6.0 Console App                               โ
โ  โข System.Console (UI)                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   CAPA DE NEGOCIO                      โ
โ                                                        โ
โ  โข HttpClient (Comunicaciรณn HTTP)                     โ
โ  โข Async/Await (Programaciรณn asรญncrona)              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   CAPA DE DATOS                        โ
โ                                                        โ
โ  REST:                                                 โ
โ  โข Newtonsoft.Json (Serializaciรณn)                    โ
โ  โข System.Net.Http                                    โ
โ                                                        โ
โ  SOAP:                                                 โ
โ  โข System.Xml.Linq (Procesamiento XML)                โ
โ  โข System.ServiceModel (SOAP Support)                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

**Documento creado para:** Cliente Consola Eurekabank  
**Versiรณn:** 1.0.0  
**Fecha:** 2025
